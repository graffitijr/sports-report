<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Backend</title>
    <style>
        #main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 95vh;
            width: 95vw;
        }
        .inputs {
            width: 30vw;
            height: 5vh;
        }
        #body {
            width: 50vw;
            height: 60vh;
        }
    </style>
</head>
<body>
<div id="main-container">
    <a href="delete-pages.html">Remove Stories Link</a>
    <input class="inputs" id="title" type="text" placeholder="Title">
    <input class="inputs" id="writer" type="text" placeholder="Writer">
    <textarea id="body" placeholder="body"></textarea>
    <input class="inputs" id="image" type="text" placeholder="Image Link">
    <button id="post" onclick="Post()">Post</button>
</div>
<script>

    const BaseWorkerLink = "https://worker.fhcsports.site"

    const title = document.getElementById("title")
    const writer = document.getElementById("writer")
    const body = document.getElementById("body")
    const image = document.getElementById("image")

    async function Post() {
        let name = new URL(window.location.href).searchParams.get("name");

        let res = await fetch(BaseWorkerLink + "/post-story", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            credentials: "include",
            body: JSON.stringify([name, {"title": title.value, "writer":writer.value, "text":body.value, "image":image.value}])
        });
        if (!res.ok){
            alert('server did not respond')
        }
        let text = await res.text()
        alert(text)
    }
</script>
</body>
</html>
